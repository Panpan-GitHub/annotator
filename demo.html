<!DOCTYPE html>
<html>

  <head>
    <!-- Required meta tags-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- Color theme for statusbar -->
    <meta name="theme-color" content="#000">
    <!-- Your app title -->
    <title>Demo</title>
    <!-- Path to Framework7 Library CSS -->
    <link rel="stylesheet" href="css/framework7.css">
    <link rel="stylesheet" href="css/framework7-icons.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
      .Bton0Backgrond {
        color: white;
      }
    </style>
  </head>

  <body>
    <!-- App root element -->
    <div id="app">
      <div class="view view-main">
        <!-- Initial Page, "data-name" contains page name -->
        <!-- 头部标题栏 -->
        <div class="navbar">
          <div class="navbar-inner">
            <div class="left"></div>
            <div class="title">批注</div>
            <div class="right"></div>
          </div>
        </div>

        <!-- 工具栏 -->
        <div class="toolbar tabbar-labels">
          <div class="toolbar-inner">
            <!-- 工具栏标签 -->
            <a href="#" class="tab-link an-button" id="button0">
              <!-- Different icons for iOS and MD themes -->
              <i class="icon f7-icons ios-only">chat_fill</i>
              <span class="tabbar-label">感想</span>
            </a>
            <a href="#" class="tab-link an-button" id="button1">
              <i class="icon f7-icons ios-only">help_fill</i>
              <span class="tabbar-label">质疑</span>
            </a>
            <a href="#" class="tab-link an-button">
              <i class="icon f7-icons ios-only">heart_fill</i>
              <span class="tabbar-label">联想</span>
            </a>
            <a href="#" class="tab-link an-button">
              <i class="icon f7-icons ios-only">mic_fill</i>
              <span class="tabbar-label">评价</span>
            </a>
            <a href="#" class="tab-link an-button">
              <i class="icon f7-icons ios-only">compose_fill</i>
              <span class="tabbar-label">补充</span>
            </a>
          </div>
        </div>
        <!-- 内容区域 -->
        <div class="page-content">
          <div class="block">
            <p>马云说：在创办阿里巴巴时，我请了24个朋友来我家商量，我整整讲了两个小时，他们听得稀里糊涂，我也讲得糊里糊涂。</p>
            <p>最后说到底怎么样，其中23个人说算了吧，只有一个在银行上班的朋友说你可以试试看，不行赶紧逃回来，我想了一个晚上，第二天早上决定还是干，哪怕24个人全反对我也要干。</p>
            <p>当时立即遭到了亲朋好友的强烈反对“其实最大的决心并不是我对互联网有很大的信心，而是我觉得做一件事，无论失败与成功，经历就是一种成功，你去闯一闯，不行你还可以掉头；但是你如果不做，就像晚上想想千条路，早上起来走原路，一样的道理。”</p>
            <p>马云说：很多人一生输就输在对新生事物上,第一看不见；第二看不起；第三看不懂；第四来不及！</p>
            <p>你穷，是因为你没有野心！</p>
            <p>野心，是一种人生在世的伟大理想，一定要实现的宏伟目标。在这个世界上，只有不敢想、不敢做的事，却没有干不成的事！你的野心有多大，未来就有多宽广。</p>
            <p>一个贫苦不堪的勤杂工，却因一次人前的难堪，一次刻骨铭心的受窘，竟然成为举世瞩目、无比富有的女中豪杰！</p>
            <p>最初，她在一家大公司里，是工作在最底层的员工，每天的工作就是端茶倒水，清扫卫生，根本没有人注意她。</p>
            <p>一次，因为没带工作证，她被公司的门卫拦在门外，不准进入。她告诉门卫，自己确确实实是公司的员工，此次是为公司买办公用品去了。</p>
            <p>然而她好话说了一大堆，门卫仍然对她不屑一顾，不准她入内。这期间，她眼睁睁地看着那些年龄相仿、身着职业装的白领们先后进入了公司的大门，根本没有出示工作证。</p>
            <p>于是她问门卫：“这些人没有出示工作证，怎么也都进去了？”门卫用一种鄙视的目光上上下下打量了她一番，冷冷地一摆手，那意思就是说：“走远点，别烦我！”。</p>
            <p>她感到了莫大的羞辱，自尊心仿佛被门卫狠狠的踩在脚下，跺个稀巴烂！她看看自己寒酸的衣着，和手中推着脏兮兮的平板车，再看看那些衣着华丽、她的心被深深的刺痛了，骤然品尝到被人歧视的酸楚，她的心发跳、脸发烫，浑身颤抖。</p>
            <p>这时，就在这时，一个誓言，在她的心头轰然炸响：我一定要创造奇迹，成为万人瞩目的富姐，成为举世闻名的强人！让这种耻辱永远的埋藏地下！</p>
            <p>从此以后，她开始利用一切机会来充实自己。每一天，她第一个来公司，最后一个离开。她分秒必争，将别人随随便便丢掉的时间都花在了学习和工作上。很快，她就脱颖而出了。</p>
            <p>在同一批骋用者中，她第一个做了业务代表，接着她又依靠超人的努力，成为这家跨国公司中国区总经理，她学历并不高，只有自考专科文凭，在中国的经理中被尊为“打工皇后”，后来，她又任微软公司中国公司的总经理。她，就是商界女杰吴士宏！</p>
            <p>试想，如果当初，吴士宏没有改变命运的决心，没有成为富人的野心，或许，她一辈子都是那个贫穷而卑微的勤杂工！是野心，是无坚不摧的野心， 铸就了辉煌！</p>
          </div>
        </div>

      </div>
    </div>
    <!-- Path to Framework7 Library JS-->
    <script src="js/framework7.js"></script>
    <!-- Path to your app js-->
    <script src="js/app.js"></script>
    <script src="js/rangy-core.js"></script>
    <script src="js/rangy-classapplier.js"></script>
    <script>
      function toggleBton0Backgrond() {
        Bton0BackgrondApplier.toggleSelection();
      }

      function selection() {
        var userSelection;
        if (window.getSelection) { //现代浏览器
          userSelection = window.getSelection();
        }
        var getRangeObject = function (selectionObject) {
          if (selectionObject.getRangeAt)
            return selectionObject.getRangeAt(0);
          else { // 较老版本Safari!
            var range = document.createRange();
            range.setStart(selectionObject.anchorNode, selectionObject.anchorOffset);
            range.setEnd(selectionObject.focusNode, selectionObject.focusOffset);
            return range;
          }
        }
        var rangeObject = getRangeObject(userSelection);
        var p = rangeObject.startContainer.parentNode;
        var i = 0;
        while (p = p.previousSibling) {
          i++;
        }
        i = (i + 1) / 2;
        alert(i);
        alert(rangeObject.startOffset);
        alert(rangeObject.endOffset);
        alert(rangy.getSelection().toString());
        
        cssApplier = rangy.createClassApplier("Bton0Backgrond", false);
        cssApplier.toggleSelection();
      }

      function annotate(n, s, e) {
        var px = $$(".block p")[n-1].firstChild;
        console.log(px);
        var range = rangy.createRange();
        range.setStart(px, s);
        range.setEnd(px, e);
        range.select();
        cssApplier = rangy.createClassApplier("Bton0Backgrond", );
        cssApplier.toggleSelection();
        // window.getSelection().removeAllRanges();
      }

      $$('#button0').on('click', function () {
        selection();
      });

      $$('#button1').on('click', function () {
        annotate(1, 5, 7);
        annotate(1, 1, 2);
        
      });
    </script>
  </body>

</html>

<div class="content-block inset anblock">
  <div class="content-block-inner">
    <blockquote class="blockquote">
      <p>阿里</p>
    </blockquote>
    <p></p>
  </div>
  <div class="card-footer">
    <a href="#" class="link">修改</a>
    <a href="#" class="link">删除</a>
  </div>
</div>